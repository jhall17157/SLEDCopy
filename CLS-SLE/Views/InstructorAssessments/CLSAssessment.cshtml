@using CLS_SLE.Models;
@{
    ViewBag.Title = "CLS Assessment";
    var r = Model.Rubric;
    var s = Model.Student;
    bool exists = false;
}

<h1>@r.RubricName - @s.FirstName @s.LastName</h1>
<form action="/InstructorAssessments/AssessmentInput" method="post">
    @Html.AntiForgeryToken()
    <table class="table">
        <tbody id="criteria">
            @foreach (Outcome o in Model.Outcomes)
            {
                <tr id="@o.OutcomeID">
                    <td colspan="2"><h3>@o.Name</h3></td>
                </tr>
                foreach (RubricDetail rb in Model.Criteria)
                {
                    if (o.Name.Equals(rb.OutcomeName))
                    {
                        <tr>
                            <td>
                                <h4>@rb.CriteriaName</h4>
                            </td>
                            <td class="col-md-3">
                                @foreach (ScoreType i in Model.Selectors)
                                {
                                    <div class="criteria">
                                        @foreach (StudentScore ss in Model.StudentScores)
                                        {
                                            exists = false;
                                            if (ss.CriteriaID == rb.CriteriaID && ss.ScoreTypeID == i.ScoreTypeID)
                                            {
                                                @i.Description @Html.RadioButton(rb.CriteriaID.ToString(), i.ScoreTypeID, new { Checked = "checked" })
                                                exists = true;
                                                break;
                                            }
                                        }

                                        @if (!exists)
                                        {
                                            @i.Description @Html.RadioButton(rb.CriteriaID.ToString(), i.ScoreTypeID)
                                        }

                                    </div>
                                }
                            </td>
                        </tr>
                    }
                }
            }
        </tbody>
    </table>
    <input type="submit" value="Submit" id="submit">
</form>

<style>
    input[type=radio] {
        float: right;
    }

    .criteria {
        display: block;
    }
</style>



@section scripts
{
    <script>
        $(function ()
        {
        });
    </script>
}