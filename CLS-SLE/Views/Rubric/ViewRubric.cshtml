@using CLS_SLE.Models;
@{
    ViewBag.Title = "View Rubric";
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
       <li class="breadcrumb-item">@Html.ActionLink("Admin Dashboard", "AdminDashboard", "Admin")</li>
        <li class="breadcrumb-item">@Html.ActionLink("Assessnents", "Assessments", "AdminAssessments")</li>
        <li class="breadcrumb-item">@Html.ActionLink((String)((AssessmentRubric)Model.Rubric).RubricAssessments.FirstOrDefault().Assessment.Name, "ViewAssessment", "AdminAssessments", new { assessmentID = ((AssessmentRubric)Model.Rubric).AssessmentID }, null)</li>
        <li class="breadcrumb-item active" aria-current="page">@Model.Rubric.Name </li>
    </ol>
</nav>
<h1>
    @Model.Rubric.Name  - <a style="font-size: 85%;" href="/Rubric/EditRubric?rubricID=@Model.Rubric.RubricID"><b>Edit</b></a>
</h1>
<br />
<div class="py-1">
    <b>Description:</b> @Model.Rubric.Description
</div>
<div class="py-1">
    <b>Is Active:</b> @Model.Rubric.IsActive
</div>

@if (Model.ModifierLogin != null)
{
    <div class="py-1">
        <b>Last Modified:</b>  @Model.Rubric.ModifiedDateTime
    </div>
    <div class="py-1">
        <b>By User:</b> @Model.ModifierLogin
    </div>
}
else if (Model.CreatorLogin != null)
{
    <div class="py-1">
        <b>Created:</b> @Model.Rubric.CreatedDateTime
    </div>
    <div class="py-1">
        <b>By User:</b> @Model.CreatorLogin
    </div>
}


    <br />
    <table class="table">

        <thead class="thead-dark">
            <tr>
                <th scope="col" class="h3">Outcomes</th>
                <th scope="col"><a class="float-right" href="/Rubric/AddOutcome?rubricID=@Model.Rubric.RubricID"><button type="button" class="btn btn-success"><i class="fa fa-plus"></i> Add New Outcome</button></a></th>

            </tr>
        </thead>
        <tbody>

            @foreach (Outcome outcome in Model.Outcomes)
            {

                <tr>

                    <td class="h3 align-middle py-2">@outcome.Name</td>
                    <td class="text-right">
                        <a href="ViewOutcome?outcomeID=@(outcome.OutcomeID)"><button type="button" class="btn btn-primary">View</button></a>
                    </td>


                </tr>
                foreach (Criterion criterion in outcome.Criteria)
                {
                    <tr class="bg-light">
                        <td class="pl-4 py-1">@criterion.Name</td>
                        <td></td>
                    </tr>
                }
            }

        </tbody>
    </table>
