@using CLS_SLE.Models;
@{
    ViewBag.Title = "Students";
    var a = Model.Assessment;
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item">@Html.ActionLink("Dashboard", "Dashboard")</li>
        <li class="breadcrumb-item active" aria-current="page">Student List</li>
    </ol>
</nav>


<h1>@a.AssessmentName</h1>
<p>@a.RubricName | @a.CourseName CRN: @a.CRN</p>

<table class="table table-hover ">
    <thead class="thead-dark">
        <tr>
            <th>Student ID</th>
            <th>Name</th>
            <th>Progress</th>
        </tr>
    </thead>
    <tbody id="students">
        @foreach(SectionEnrollment student in Model.Students)
        {
        <tr data-section="@student.sectionID" data-enrollment="@student.EnrollmentID" class="student-row">
            <td>@student.StudentID</td>
            <td>@student.LastName, @student.FirstName</td>
            <td>5 / 6</td>
        </tr>
        }
    </tbody>
</table>

@section scripts
{
    <script>
        $(function ()
        {
            $('#students').on('click', '.student-row', function () {
                console.log(this.dataset.section);
                console.log(this.dataset.enrollment);
                location.href = "/InstructorAssessments/CLSAssessment?sectionID=" + this.dataset.section + "&enrollmentID=" + this.dataset.enrollment;
                });
        })
    </script>    
}
